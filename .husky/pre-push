#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."
echo ""

# TypeScript type checking
echo "ğŸ“˜ Type checking..."
pnpm type-check || {
  echo "âŒ TypeScript errors found. Fix them before pushing."
  exit 1
}

# Format validation
echo "ğŸ’… Checking formatting..."
pnpm format-check || {
  echo "âŒ Formatting issues found. Run 'pnpm format' to fix."
  exit 1
}

# Full test suite
echo "ğŸ§ª Running test suite..."
pnpm test:ci || {
  echo "âŒ Tests failed. Fix them before pushing."
  exit 1
}

echo ""
echo "âœ… All pre-push checks passed!"

